function addDataAttributesToElements() {
  document.querySelectorAll("a.button, .button").forEach((t) => {
    t.hasAttribute("data-cursor") || t.setAttribute("data-cursor", "pointer");
  }),
    document.querySelectorAll(".form-input").forEach((t) => {
      t.hasAttribute("data-cursor") || t.setAttribute("data-cursor", "text");
    });
}
function isTouchDevice() {
  return (
    "ontouchstart" in window ||
    navigator.maxTouchPoints > 0 ||
    navigator.msMaxTouchPoints > 0
  );
}
function initCustomCursor() {
  !isTouchDevice() &&
    window.innerWidth >= 991 &&
    (addDataAttributesToElements(), customCursor(), applyCursors());
}
function customCursor() {
  let t = document.querySelector(".cursor-custom"),
    e = document.querySelector(".cursor-release");
  document.addEventListener("mousemove", function (r) {
    (t.style.transform = `translate3d(calc(${r.clientX}px - 50%), calc(${r.clientY}px - 50%), 0)`),
      (e.style.left = `${r.clientX}px`),
      (e.style.top = `${r.clientY}px`);
  }),
    document.addEventListener("mousedown", function () {
      e.classList.add("cursor-pressed");
    }),
    document.addEventListener("mouseup", function () {
      e.classList.remove("cursor-pressed");
    });
}
function applyCursors() {
  let t = document.querySelector(".cursor-custom");
  document.querySelectorAll("[data-cursor]").forEach((e) => {
    e.addEventListener("mouseover", () => {
      let r = e.getAttribute("data-cursor");
      t.classList.add("cursor-action", `cursor-${r}`);
    }),
      e.addEventListener("mouseleave", () => {
        let r = e.getAttribute("data-cursor");
        t.classList.remove("cursor-action", `cursor-${r}`);
      });
  });
}
function splideCursors() {
  let t = document.querySelector(".cursor-custom");
  document
    .querySelectorAll(".splide .btn_external[data-cursor]")
    .forEach((e) => {
      e.addEventListener("mouseover", () => {
        let r = e.getAttribute("data-cursor");
        t.classList.add("cursor-action", `cursor-${r}`);
      }),
        e.addEventListener("mouseleave", () => {
          t.classList.remove(
            "cursor-action",
            `cursor-${e.getAttribute("data-cursor")}`
          );
        });
    });
}
console.log("Custom Cursor"),
  document.addEventListener("DOMContentLoaded", function () {
    initCustomCursor(), window.addEventListener("resize", initCustomCursor);
  }),
  document.addEventListener("DOMContentLoaded", splideCursors);
